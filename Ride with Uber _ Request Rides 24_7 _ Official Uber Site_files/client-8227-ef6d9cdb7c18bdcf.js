"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[8227],{8662:(e,t,r)=>{r.d(t,{U:()=>P});var n=r(36151),o=r(19316),l=r.n(o),i=r(42797),a=r(89897),c=r(64640),u=r(89667),s=r(85057),p=r(35429),f=r(33990);const d=e=>{let{$rtl:t}=e;return t?{left:"15px",marginRight:"8px"}:{right:"15px",marginLeft:"8px"}},y=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{height:"100%",cursor:"pointer",width:"1em",display:"flex",alignItems:"center",justifyContent:"center",...d({$rtl:"rtl"===t.direction})}})),v=(0,i.zo)(p.Z,(e=>{let{$error:t,$theme:r}=e;return{color:t?r.colors.negative400:r.colors.black}})),b=e=>{const{fetchCurrentLocation:t,error:r,isVisible:n,locationLabel:o}=e;return n?(0,f.tZ)(y,{children:(0,f.tZ)(v,{title:"",onClick:t,onKeyPress:e=>{e&&"Enter"===e.key&&t()},tabIndex:"0",role:"button","aria-label":o,$error:r,className:"pe-location-fetch"})}):null};var g=r(58147);const h=(0,i.w1)(a.Bc,(()=>({fontSize:"24px"}))),O=e=>e?{right:"22px"}:{left:"22px"},m=(e,t)=>e?{paddingRight:t}:{paddingLeft:t},w=l()(g.mO,300),j=e=>{let{props:t,state:r}=e;const{showLocationButton:o=!1,isLoading:l,locationLabel:i}=t,{isDetectionError:a}=r;return e=>{let{children:c,...u}=e;const s=n.Children.toArray(c).length,p=o&&!s&&!l;return(0,f.BX)(h,{...u,children:[c,(0,f.tZ)(b,{isVisible:p,fetchCurrentLocation:()=>(0,g.mX)({props:t,state:r}),locationLabel:i,error:a})]})}},P=e=>{const[,t]=(0,i.hQ)(),{placeholder:r,startEnhancer:o,rtl:l,locationDetails:a,isLoading:p,suggestions:d,ariaLabel:y,controlRef:v,onOpen:b,onBlur:h,onFocus:P,popoverOverrides:S}=e,[E,x]=n.useState((0,g.jD)(a)),[C,D]=n.useState((0,g.jD)(a)),[k,L]=n.useState(!1);n.useEffect((()=>{x((0,g.jD)(a)),D((0,g.jD)(a))}),[a]),n.useEffect((()=>{Array.isArray(d)&&d.length>0&&D((0,g.Vy)(d))}),[d]);const I={value:E,setValue:x,options:C,setOptions:D,isDetectionError:k,setIsDetectionError:L};return(0,f.tZ)(c.Z,{options:C,value:E,onChange:t=>{(0,g.x3)({props:e,state:I},t.value)},onInputChange:t=>{x([{label:t.target.value,id:t.target.value}]),w({props:e},t.target.value)},onOpen:b,onFocus:P,onBlur:h,placeholder:r,type:u.wD.search,isLoading:p,"aria-label":y,controlRef:v,filterOptions:e=>e,overrides:{IconsContainer:{component:j({props:e,state:I})},ClearIcon:{props:{overrides:{Svg:{style:{width:"33px",height:"33px",cursor:"pointer"}}}}},SearchIcon:{props:{overrides:{Svg:{component:o,props:{size:"20"}}}},style:{...O(l),width:"20px"}},ValueContainer:{style:{...m(l,t.sizing.scale950)}},DropdownContainer:{props:{...s.ki,ariaLabel:"destination dropdown"}},...S?{Popover:{props:{overrides:S}}}:{}}})}},58147:(e,t,r)=>{r.d(t,{mX:()=>a,mO:()=>l,jD:()=>c,Vy:()=>n,do:()=>o,x3:()=>u});function n(e){return Array.isArray(e)?e.map((e=>({...e,label:"".concat(e.addressLine1).concat(e.addressLine2?", ".concat(e.addressLine2):"")}))):[]}function o(e){let{value:t,type:r,locale:n,suggestions:o,loadPlaceDetails:l}=e;const{id:i,provider:a}=t[0]||{};i&&Array.isArray(o)&&o.find((e=>e.id===i))&&l({type:r,locale:n,id:String(i),provider:a})}const l=(e,t)=>{let{props:r}=e;const{locale:n,type:o}=r,{lat:l,long:i}=(e=>{let{props:t}=e;const{mapCenter:r,locationDetails:n}=t;return null!=n&&n.lat?{lat:n.lat,long:n.long}:{lat:null==r?void 0:r.latitude,long:null==r?void 0:r.longitude}})({props:r});r.getSuggestions({q:t,type:o,locale:n,lat:l,long:i})},i=(e,t,r)=>{let{state:n}=e;n.setIsDetectionError(t&&1===r)},a=e=>{var t;let{props:r,state:n}=e;null===(t=r.onFetchCurrentLocation)||void 0===t||t.call(r),i({state:n},!1),((e,t)=>{var r;null!==(r=window)&&void 0!==r&&null!==(r=r.navigator)&&void 0!==r&&null!==(r=r.geolocation)&&void 0!==r&&r.getCurrentPosition?window.navigator.geolocation.getCurrentPosition((r=>{r&&r.coords&&r.coords.latitude&&r.coords.longitude?e(r.coords):null==t||t({message:"Received invalid position from Geolocation API",code:100})}),t):null==t||t({message:"Geolocation API is not available",code:101})})((e=>{var t;null===(t=r.fetchCurrentLocation)||void 0===t||t.call(r,{lat:e.latitude,lng:e.longitude,lang:r.locale})}),(e=>{i({state:n},!0,e.code)}))},c=e=>{if(null==e||!e.id||!e.fullAddress)return[];const{addressLine1:t="",addressLine2:r=""}=e;return[{...e,label:"".concat(t).concat(r?", ".concat(r):"")}]},u=(e,t)=>{let{props:r,state:n}=e;const{type:l,clearFEPlaceDetails:i}=r;if(!Array.isArray(t)||0===t.length)return n.setValue([]),n.setOptions([]),void i(l);o({value:t,...r})}},5929:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.Z=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=l?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}(r(43193)),l=["title","titleId","size"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=o.forwardRef((function(e,t){var r=e.title,n=void 0===r?"Circle small":r,i=e.titleId,u=e.size,s=void 0===u?"1em":u,p=c(e,l);return o.createElement("svg",a({width:s,height:s,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i},p),void 0===n?o.createElement("title",{id:i},"Circle small"):n?o.createElement("title",{id:i},n):null,o.createElement("path",{d:"M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z",fill:"currentColor"}))}));t.Z=u},35429:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.Z=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=l?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}(r(43193)),l=["title","titleId","size"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=o.forwardRef((function(e,t){var r=e.title,n=void 0===r?"Navigate right up":r,i=e.titleId,u=e.size,s=void 0===u?"1em":u,p=c(e,l);return o.createElement("svg",a({width:s,height:s,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i},p),void 0===n?o.createElement("title",{id:i},"Navigate right up"):n?o.createElement("title",{id:i},n):null,o.createElement("path",{d:"M10.5 13.5.5 11 21 3l-8 20.5-2.5-10Z",fill:"currentColor"}))}));t.Z=u},45628:(e,t,r)=>{function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.Z=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=l?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(o,a,c):o[a]=e[a]}o.default=e,r&&r.set(e,o);return o}(r(43193)),l=["title","titleId","size"];function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var u=o.forwardRef((function(e,t){var r=e.title,n=void 0===r?"Square small":r,i=e.titleId,u=e.size,s=void 0===u?"1em":u,p=c(e,l);return o.createElement("svg",a({width:s,height:s,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":i},p),void 0===n?o.createElement("title",{id:i},"Square small"):n?o.createElement("title",{id:i},n):null,o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 7H7v10h10V7Z",fill:"currentColor"}))}));t.Z=u}}]);